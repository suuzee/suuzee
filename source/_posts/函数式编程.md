---
title: å‡½æ•°å¼ç¼–ç¨‹
date: 2017-02-26 08:17:48
categories: å‡½æ•°å¼ç¼–ç¨‹
tags:
    - å­¦ä¹ ç¬”è®°
    - å‡½æ•°å¼ç¼–ç¨‹
description: äº†è§£å‡½æ•°å¼ç¼–ç¨‹
---

#### çº¯å‡½æ•°<!--more-->

```javascript
function add (x, y) {
    return x + y;
}
```

å¤§å¤šæ•°çš„çº¯å‡½æ•°éƒ½åº”è¯¥æœ‰è‡³å°‘ä¸€ä¸ªå‚æ•°ã€‚

æ‰€æœ‰çš„çº¯å‡½æ•°éƒ½åº”è¯¥è¿”å›ä¸€äº›ä¸œè¥¿ã€‚

çº¯å‡½æ•°å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œæ€»æ˜¯äº§ç”Ÿç›¸åŒçš„è¾“å‡ºã€‚

çº¯å‡½æ•°æ²¡æœ‰å‡½æ•°å‰¯ä½œç”¨ã€‚

çº¯å‡½æ•°æœ‰å¯ç¼“å­˜æ€§ã€‚

æˆ‘çš„ç†è§£ï¼šçº¯å‡½æ•°ä¸ä¾èµ–ä»»ä½•å‡ºäº†ä¼ å…¥å‚æ•°ç»™å®šçš„ä¸œè¥¿ã€‚æ¯”å¦‚å¤–éƒ¨å˜é‡ï¼Œè·å–ä¸ªç³»ç»Ÿæ—¶é—´ä¹‹ç±»çš„ï¼Œå› ä¸ºè¾“å…¥ç›¸åŒï¼Œè¾“å‡ºä¸€å®šè¦ç›¸åŒã€‚

#### ä¸å¯å˜æ€§

åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­æ²¡æœ‰å˜é‡ã€‚ä¹Ÿå°±æ˜¯è¯´å³ä½¿ä¼ å…¥çš„å‚æ•°ï¼Œåˆ°äº†æ‰§è¡Œçš„æ—¶å€™ä¹Ÿä¸èƒ½è¢«æ”¹å˜ã€‚é‡Œé¢ä»»ä½•æ—¶å€™å®šä¹‰çš„å˜é‡ä¹Ÿéƒ½ä¸èƒ½æ”¹ï¼Œè¢«å£°æ˜æ—¶èµ‹å€¼äº†ä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆã€‚

å‡½æ•°å¼ç¼–ç¨‹é€šè¿‡æ‹·è´å¤„ç†ä½†åªä¿®æ”¹ã€‚ğŸ¤”

æ²¡æœ‰å¾ªç¯ï¼Œä¸èƒ½ç”¨forä¹‹ç±»çš„ï¼Œç”¨é€’å½’ã€‚é€’å½’ä¸ä¼šä¿®æ”¹æ—§å€¼ï¼Œä½†æ˜¯ä½¿ç”¨äº†æ—§å€¼çš„è®¡ç®—ç»“æœã€‚

```javascript
function sumRange (start, end, acc) {
    if (start > end) {
        return acc;
    }
    return sumRange(start + 1, end, acc + start);
}
console.log(sumRange(1, 10, 0)) // 55
```

è¿™é‡Œå‡½æ•°å†…éƒ¨å¹¶æ²¡æœ‰æ”¹å˜å‚æ•°çš„å€¼ï¼Œä½†æ˜¯åœ¨é€’å½’è°ƒç”¨çš„æ—¶å€™å¯èƒ½ä¼šå¯¹å‚æ•°å€¼è¿›è¡Œé‡æ–°èµ‹å€¼ï¼Œè¿™å°±æ˜¯ä½¿ç”¨äº†æ—§å€¼çš„è®¡ç®—ç»“æœï¼Œä½†æ˜¯é‚£æ˜¯å¦ä¸€ä¸ªå‡½æ•°äº†ã€‚

ä¸å¯å˜æ€§çš„å¥½å¤„ï¼šä¸å¯å˜æ€§åˆ›å»ºäº†æ›´ç®€å•å®‰å…¨çš„ä»£ç ã€‚ğŸ¤”

#### å‡½æ•°æŸ¯é‡ŒåŒ–

å®šä¹‰ï¼šä¼ é€’ç»™å‡½æ•°ä¸€éƒ¨åˆ†å‚æ•°æ¥è°ƒç”¨å®ƒï¼Œè®©å®ƒè¿”å›ä¸€ä¸ªå‡½æ•°å»å¤„ç†å‰©ä¸‹çš„å‚æ•°ã€‚

```javascript
function add (x) {
    return function (y) {
        return x + y;
    }
}
add(1)(2); // 3

var add10 = add(10);
add10(20); // 30
```

#### å‡½æ•°ç»„åˆ

å‡½æ•°ç»„åˆå°±æ˜¯ä¼ å…¥å‡ ä¸ªå‚æ•°ï¼Œç„¶ååœ¨å®šä¹‰å‡½æ•°ç»„åˆçš„å‡½æ•°ä¸­æ‰§è¡Œè¿™å‡ ä¸ªå‚æ•°ï¼Œæˆ–è€…åœ¨returnçš„å‡½æ•°ä¸­æ‰§è¡Œè¿™å‡ ä¸ªå‚æ•°ã€‚

```javascript
var compose = (f, g) => (x => f(g(x)));

var foo = x => x + 1;
var bar = x => x * 5;

compose(foo, bar)(2); // 11
```

#### Point Free

#### å£°æ˜å¼ä¸å‘½ä»¤å¼ä»£ç 

å‘½ä»¤å¼ä»£ç å°±æ˜¯æ¯ä¸€æ­¥éƒ½æ˜¯æŒ‡å®šå»åšã€‚

```javascript
var CEOs = [];
for (var i = 0, len = companies.length; i < len; i ++) {
    CEOs.push(companies[i].CEO);
}
```

å£°æ˜å¼ä»£ç æ˜¯é€šè¿‡å†™è¡¨è¾¾å¼çš„æ–¹å¼æ¥å£°æ˜æˆ‘ä»¬æƒ³å¹²ä»€ä¹ˆã€‚å£°æ˜çš„æ˜¯åšä»€ä¹ˆã€‚

```javascript
var CEOs = companies.map(c => c.CEO);
```

#### å®¹å™¨ã€Functor

å®¹å™¨å°±æ˜¯è®²ç»™å®šçš„å€¼åŒ…è£¹èµ·æ¥ï¼Œå¯èƒ½è¿˜æœ‰å…¶ä»–çš„ä¸€äº›ä½œç”¨ã€‚æ¯”å¦‚è¯´è¡£æœå°†äººåŒ…è£¹èµ·æ¥ï¼Œè¿˜æœ‰ä¿æš–ï¼Œé®ä½“çš„ä½œç”¨ï¼Œè„±æ‰äº†è¡£æœäººè¿˜æ˜¯äººã€‚

ä¾‹å­èƒ½çœ‹æ˜ç™½æ€ä¹ˆå®ç°ï¼Œä½†æ˜¯ä¸æ˜¯å¾ˆç†è§£ï¼š
```javascript
var Container = function (x) {
    this.__value = x;
}
Container.of = x => new Container(x);
Container.prototype.map = f => Container.of(f(this.__value));

Container.of(3)
    .map(x => x + 1) // Container(4)
    .map(x => 'Result is ' + x); // Container('Result is 4')
```

æ‰§è¡Œçš„æ—¶å€™æ„Ÿè§‰æœ‰é—®é¢˜ï¼Œæ¯æ¬¡è°ƒç”¨ `Container.of` çš„æ—¶å€™ï¼Œéƒ½æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„Containerå¯¹è±¡ï¼Œè¿™å‡ ä¸ªå¯¹è±¡ä¸æ˜¯ä¸€ä¸ªã€‚ä¹Ÿå°±æ˜¯è¯´ä¸Šé¢çš„é“¾å¼è°ƒç”¨æ¯ä¸ªéƒ½æ˜¯ä¸€ä¸ªæ–°çš„ `Container` ï¼Œè€Œmapä¸­ç”¨åˆ°çš„ `this.__value` å°±æ˜¯ `undefined` äº†ã€‚
